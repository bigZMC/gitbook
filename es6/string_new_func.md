## String.fromCodePoint()

ES5 æä¾›`String.fromCharCode()`æ–¹æ³•ï¼Œç”¨äºä» Unicode ç ç‚¹è¿”å›å¯¹åº”å­—ç¬¦ï¼Œä½†æ˜¯è¿™ä¸ªæ–¹æ³•ä¸èƒ½è¯†åˆ«ç ç‚¹å¤§äº`0xFFFF`çš„å­—ç¬¦ã€‚ 

```javascript
String.fromCharCode(0x20BB7)
// "à®·"
```

`String.fromCharCode()`ä¸èƒ½è¯†åˆ«å¤§äº`0xFFFF`çš„ç ç‚¹ï¼Œæ‰€ä»¥`0x20BB7`å°±å‘ç”Ÿäº†æº¢å‡ºï¼Œæœ€é«˜ä½`2`è¢«èˆå¼ƒäº†ï¼Œæœ€åè¿”å›ç ç‚¹`U+0BB7`å¯¹åº”çš„å­—ç¬¦ï¼Œè€Œä¸æ˜¯ç ç‚¹`U+20BB7`å¯¹åº”çš„å­—ç¬¦ã€‚ 

ES6 æä¾›äº†`String.fromCodePoint()`æ–¹æ³•ï¼Œå¯ä»¥è¯†åˆ«å¤§äº`0xFFFF`çš„å­—ç¬¦ï¼Œå¼¥è¡¥äº†`String.fromCharCode()`æ–¹æ³•çš„ä¸è¶³ã€‚

```javascript
String.fromCodePoint(0x20BB7)
// "ğ ®·"
String.fromCodePoint(0x78, 0x1f680, 0x79) === 'x\uD83D\uDE80y'
// String.fromCodePoint(0x78) x
// String.fromCodePoint(0x1f680) ğŸš€
// String.fromCodePoint(0x79) y
// true
```

 å¦‚æœ`String.fromCodePoint`æ–¹æ³•æœ‰å¤šä¸ªå‚æ•°ï¼Œåˆ™å®ƒä»¬ä¼šè¢«**åˆå¹¶æˆä¸€ä¸ªå­—ç¬¦ä¸²è¿”å›**ã€‚ 

------

## å®ä¾‹æ–¹æ³•ï¼šcodePointAt()

JavaScript å†…éƒ¨ï¼Œå­—ç¬¦ä»¥ UTF-16 çš„æ ¼å¼å‚¨å­˜ï¼Œæ¯ä¸ªå­—ç¬¦å›ºå®šä¸º`2`ä¸ªå­—èŠ‚ã€‚å¯¹äºé‚£äº›éœ€è¦`4`ä¸ªå­—èŠ‚å‚¨å­˜çš„å­—ç¬¦ï¼ˆUnicode ç ç‚¹å¤§äº`0xFFFF`çš„å­—ç¬¦ï¼‰ï¼ŒJavaScript ä¼šè®¤ä¸ºå®ƒä»¬æ˜¯ä¸¤ä¸ªå­—ç¬¦ã€‚ 

```javascript
// UTF-16 ç¼–ç ä¸º0xD842 0xDFB7ï¼ˆåè¿›åˆ¶ä¸º55362 57271ï¼‰
var s = "ğ ®·";

s.length // 2

// charAt()æ–¹æ³•æ— æ³•è¯»å–æ•´ä¸ªå­—ç¬¦
s.charAt(0) // ''
s.charAt(1) // ''

// charCodeAt()æ–¹æ³•åªèƒ½åˆ†åˆ«è¿”å›å‰ä¸¤ä¸ªå­—èŠ‚å’Œåä¸¤ä¸ªå­—èŠ‚çš„å€¼ã€‚
s.charCodeAt(0) // 55362
s.charCodeAt(1) // 57271

var s = "ğ ®·a";
s.codePointAt(0) // 134071
s.codePointAt(1) // 57271

s.codePointAt(2) // 97
```

`codePointAt()`æ–¹æ³•çš„å‚æ•°ï¼Œæ˜¯å­—ç¬¦åœ¨å­—ç¬¦ä¸²ä¸­çš„ä½ç½®ï¼ˆä» 0 å¼€å§‹ï¼‰ã€‚ä¸Šé¢ä»£ç ä¸­ï¼ŒJavaScript å°†â€œğ ®·aâ€è§†ä¸º**ä¸‰ä¸ªå­—ç¬¦**ï¼ŒcodePointAt æ–¹æ³•åœ¨ç¬¬ä¸€ä¸ªå­—ç¬¦ä¸Šï¼Œæ­£ç¡®åœ°è¯†åˆ«äº†â€œğ ®·â€ï¼Œè¿”å›äº†å®ƒçš„åè¿›åˆ¶ç ç‚¹ 134071ï¼ˆå³åå…­è¿›åˆ¶çš„`20BB7`ï¼‰ã€‚åœ¨ç¬¬äºŒä¸ªå­—ç¬¦ï¼ˆå³â€œğ ®·â€çš„åä¸¤ä¸ªå­—èŠ‚ï¼‰å’Œç¬¬ä¸‰ä¸ªå­—ç¬¦â€œaâ€ä¸Šï¼Œ`codePointAt()`æ–¹æ³•çš„ç»“æœä¸`charCodeAt()`æ–¹æ³•ç›¸åŒã€‚ 

ä½†æ˜¯ï¼Œæ­¤æ—¶çš„å‚æ•°ä»ç„¶ä¸æ­£ç¡®ï¼Œ å­—ç¬¦`a`åœ¨å­—ç¬¦ä¸²`s`çš„æ­£ç¡®ä½ç½®åºå·åº”è¯¥æ˜¯ 1ï¼Œä½†æ˜¯å¿…é¡»å‘`codePointAt()`æ–¹æ³•ä¼ å…¥ 2ã€‚è§£å†³è¿™ä¸ªé—®é¢˜çš„ä¸€ä¸ªåŠæ³•æ˜¯ä½¿ç”¨`for...of`å¾ªç¯ ã€‚

```javascript
let s = 'ğ ®·a';
for (let ch of s) {
  console.log(ch.codePointAt(0).toString(16));
}
// 20bb7
// 61
```

 å¦ä¸€ç§æ–¹æ³•ä¹Ÿå¯ä»¥ï¼Œä½¿ç”¨æ‰©å±•è¿ç®—ç¬¦ï¼ˆ`...`ï¼‰è¿›è¡Œå±•å¼€è¿ç®—ã€‚ 

```javascript
let arr = [...'ğ ®·a']; // arr.length === 2
arr.forEach(
  ch => console.log(ch.codePointAt(0).toString(16))
);
// 20bb7
// 61
```

`codePointAt()`æ–¹æ³•æ˜¯æµ‹è¯•ä¸€ä¸ªå­—ç¬¦ç”±ä¸¤ä¸ªå­—èŠ‚è¿˜æ˜¯ç”±å››ä¸ªå­—èŠ‚ç»„æˆçš„æœ€ç®€å•æ–¹æ³•ã€‚

```javascript
function is32Bit(c) {
  // è¿”å›10è¿›åˆ¶ï¼Œå’Œ16è¿›åˆ¶æœ€å¤§æ•°è¿›è¡Œæ¯”è¾ƒ
  return c.codePointAt(0) > 0xFFFF;
}

is32Bit("ğ ®·") // true
is32Bit("a") // false
```

------

## å®ä¾‹æ–¹æ³•ï¼šincludes()ï¼ŒstartsWith()ï¼ŒendsWith()

ES6ä¹‹å‰ï¼Œåªæœ‰`indexOf`æ–¹æ³•å¯ä»¥ç”¨æ¥ç¡®å®šä¸€ä¸ªå­—ç¬¦ä¸²æ˜¯å¦åŒ…å«åœ¨å¦ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­ã€‚ES6 æä¾›äº†ä¸‰ç§æ–°æ–¹æ³•ã€‚

- **includes()**ï¼šè¿”å›å¸ƒå°”å€¼ï¼Œè¡¨ç¤ºæ˜¯å¦æ‰¾åˆ°äº†å‚æ•°å­—ç¬¦ä¸²ã€‚
- **startsWith()**ï¼šè¿”å›å¸ƒå°”å€¼ï¼Œè¡¨ç¤ºå‚æ•°å­—ç¬¦ä¸²æ˜¯å¦åœ¨åŸå­—ç¬¦ä¸²çš„å¤´éƒ¨ã€‚
- **endsWith()**ï¼šè¿”å›å¸ƒå°”å€¼ï¼Œè¡¨ç¤ºå‚æ•°å­—ç¬¦ä¸²æ˜¯å¦åœ¨åŸå­—ç¬¦ä¸²çš„å°¾éƒ¨ã€‚

```javascript
let s = 'Hello world!';

s.startsWith('Hello') // true
s.endsWith('!') // true
s.includes('o') // true
```

è¿™ä¸‰ä¸ªæ–¹æ³•éƒ½æ”¯æŒç¬¬äºŒä¸ªå‚æ•°ï¼Œè¡¨ç¤ºå¼€å§‹æœç´¢çš„ä½ç½®(position)æˆ–è€…å­—ç¬¦é•¿åº¦(length)ã€‚

```javascript
let s = 'Hello world!';

s.startsWith('world', 6) // true
// è¿™é‡Œçš„nä»0å¼€å§‹æ•°ï¼Œé’ˆå¯¹ä»ç¬¬nä¸ªä½ç½®åˆ°å­—ç¬¦ä¸²ç»“æŸ
// ç›¸å½“äº 'world'.startsWith('world')

s.endsWith('Hello', 5) // true
// è¿™é‡Œéœ€è¦æ³¨æ„ï¼ŒendsWithçš„ç¬¬äºŒä¸ªå‚æ•°ï¼Œé’ˆå¯¹çš„æ˜¯å‰nä¸ªå­—ç¬¦
// ç›¸å½“äº 'Hello'.startsWith('world')

s.includes('Hello', 6) // false
// ç›¸å½“äº 'world'.includes('Hello')
```

------

## å®ä¾‹æ–¹æ³•ï¼šrepeat()

 `repeat`æ–¹æ³•è¿”å›ä¸€ä¸ªæ–°å­—ç¬¦ä¸²ï¼Œè¡¨ç¤ºå°†åŸå­—ç¬¦ä¸²é‡å¤`n`æ¬¡ã€‚ 

```javascript
'x'.repeat(3) // "xxx"
'hello'.repeat(2) // "hellohello"
'na'.repeat(0) // ""ï¼Œ0ç›´æ¥è¿”å›ç©ºå­—ç¬¦ä¸²ï¼Œç›¸å½“äºä¹˜æ³•è§„åˆ™
```

å‚æ•°å¦‚æœæ˜¯å°æ•°ï¼Œä¼šè¢«å–æ•´ã€‚å¤§äº0å‘ä¸‹å–æ•´ï¼Œåœ¨0åˆ°-1ä¹‹é—´ï¼Œåˆ™ç­‰åŒäº0ã€‚å¦‚æœæ˜¯å°äºç­‰äº-1çš„å‚æ•°ï¼Œåˆ™ä¼šæŠ¥é”™ã€‚

```javascript
'na'.repeat(2.9) // "nana"
'na'.repeat(-0.9) // ""ï¼Œç­‰åŒäº'na'.repeat(0)
```

 å‚æ•°å¦‚æœæ˜¯å­—ç¬¦ä¸²ä¼šå…ˆè½¬æ¢æˆæ•°å­—ï¼Œ`NaN`ç­‰åŒäº 0ã€‚ 

```javascript
'na'.repeat('3') // "nanana"
'na'.repeat(NaN) // ""
'na'.repeat('na') // ""ï¼Œ 'na'æ˜¯NaN
```

------

## å®ä¾‹æ–¹æ³•ï¼špadStart()ï¼ŒpadEnd()

`padStart()`ç”¨äºå¤´éƒ¨è¡¥å…¨ï¼Œ`padEnd()`ç”¨äºå°¾éƒ¨è¡¥å…¨ã€‚å¦‚æœæŸä¸ªå­—ç¬¦ä¸²ä¸å¤ŸæŒ‡å®šé•¿åº¦ï¼Œä¼šåœ¨å¤´éƒ¨æˆ–å°¾éƒ¨è¡¥å…¨ã€‚ 

`padStart()`å’Œ`padEnd()`ä¸€å…±æ¥å—ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯å­—ç¬¦ä¸²è¡¥å…¨ç”Ÿæ•ˆçš„æœ€å¤§é•¿åº¦ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯ç”¨æ¥è¡¥å…¨çš„å­—ç¬¦ä¸²ã€‚ 

```javascript
'x'.padStart(5, 'ab') // 'ababx'
'x'.padStart(4, 'ab') // 'abax'ï¼Œè¾¾åˆ°é•¿åº¦åï¼Œä¼šæˆªå–è¶…å‡ºä½æ•°çš„è¡¥å…¨å­—ç¬¦ä¸²

'x'.padEnd(5, 'ab') // 'xabab'
'x'.padEnd(4, 'ab') // 'xaba'
```

å¦‚æœåŸå­—ç¬¦ä¸²çš„é•¿åº¦ï¼Œç­‰äºæˆ–å¤§äºæœ€å¤§é•¿åº¦ï¼Œåˆ™å­—ç¬¦ä¸²è¡¥å…¨ä¸ç”Ÿæ•ˆï¼Œè¿”å›åŸå­—ç¬¦ä¸²ã€‚

```javascript
'xxx'.padStart(2, 'ab') // 'xxx'
'xxx'.padEnd(2, 'ab') // 'xxx'
```

å¦‚æœçœç•¥ç¬¬äºŒä¸ªå‚æ•°ï¼Œ**é»˜è®¤ä½¿ç”¨ç©ºæ ¼è¡¥å…¨é•¿åº¦**ã€‚

```javascript
'x'.padStart(4) // '   x'
'x'.padEnd(4) // 'x   '
```

------

## å®ä¾‹æ–¹æ³•ï¼štrimStart()ï¼ŒtrimEnd()

æ–°å¢äº†`trimStart()`å’Œ`trimEnd()`è¿™ä¸¤ä¸ªæ–¹æ³•ã€‚å®ƒä»¬çš„è¡Œä¸ºä¸`trim()`ä¸€è‡´ï¼Œ`trimStart()`æ¶ˆé™¤å­—ç¬¦ä¸²å¤´éƒ¨çš„ç©ºæ ¼ï¼Œ`trimEnd()`æ¶ˆé™¤å°¾éƒ¨çš„ç©ºæ ¼ã€‚å®ƒä»¬è¿”å›çš„éƒ½æ˜¯æ–°å­—ç¬¦ä¸²ï¼Œä¸ä¼šä¿®æ”¹åŸå§‹å­—ç¬¦ä¸²ã€‚ 

```javascript
const s = '  abc  ';

s.trim() // "abc"
s.trimStart() // "abc  "
s.trimEnd() // "  abc"
```

æµè§ˆå™¨è¿˜éƒ¨ç½²äº†é¢å¤–çš„ä¸¤ä¸ªæ–¹æ³•ï¼Œ`trimLeft()`æ˜¯`trimStart()`çš„åˆ«åï¼Œ`trimRight()`æ˜¯`trimEnd()`çš„åˆ«åã€‚ 